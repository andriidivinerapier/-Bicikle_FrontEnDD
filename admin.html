<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º—ñ–Ω –ü–∞–Ω–µ–ª—å - –†–µ—Ü–µ–ø—Ç–∏</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/admin-panel.css">
</head>
<body>
    <div class="admin-container">
        <!-- –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é -->
        <aside class="admin-sidebar">
            <div class="admin-logo">
                <h1>–ê–¥–º—ñ–Ω –ü–∞–Ω–µ–ª—å</h1>
            </div>
            <nav class="admin-nav">
                <ul>
                    <li><a href="#" class="nav-link active" data-section="recipes">–†–µ—Ü–µ–ø—Ç–∏</a></li>
                    <li><a href="#" class="nav-link" data-section="user-recipes">–†–µ—Ü–µ–ø—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤</a></li>
                    <li><a href="#" class="nav-link" data-section="users">–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ</a></li>
                    <li><a href="#" class="nav-link" data-section="add-recipe">–î–æ–¥–∞—Ç–∏ —Ä–µ—Ü–µ–ø—Ç</a></li>
                   
                </ul>
            </nav>
            <div class="admin-user-info">
                <p id="admin-username">–ê–¥–º—ñ–Ω</p>
                <button id="logout-btn" class="logout-btn">–í–∏–π—Ç–∏</button>
            </div>
        </aside>

        <!-- –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="admin-main">
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
            <header class="admin-header">
                <h2 id="section-title">–†–µ—Ü–µ–ø—Ç–∏</h2>
            </header>

            <!-- –°–µ–∫—Ü—ñ—è –†–µ—Ü–µ–ø—Ç–∏ -->
            <section id="recipes-section" class="admin-section active">
                <div class="recipes-toolbar">
                    <input type="text" id="search-recipes" placeholder="–ü–æ—à—É–∫ —Ä–µ—Ü–µ–ø—Ç—ñ–≤..." class="search-input">
                    <button id="refresh-recipes-btn" class="btn btn-primary">–û–Ω–æ–≤–∏—Ç–∏</button>
                </div>
                <div id="recipes-list" class="recipes-table-container">
                    <table class="recipes-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–ù–∞–∑–≤–∞</th>
                                <th>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</th>
                                <th>–î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è</th>
                                <th>–î—ñ—ó</th>
                            </tr>
                        </thead>
                        <tbody id="recipes-tbody">
                            <tr>
                                <td colspan="5" class="loading-text">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- –°–µ–∫—Ü—ñ—è –†–µ—Ü–µ–ø—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ -->
            <section id="user-recipes-section" class="admin-section">
                <h3>–†–µ—Ü–µ–ø—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤</h3>
                
                <!-- –¢–∞–±–∏ –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó -->
                <div class="user-recipes-tabs" style="display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 2px solid var(--border-color); padding-bottom: 0;">
                    <button class="user-recipes-tab active" data-status="pending" style="padding: 12px 20px; background: none; border: none; cursor: pointer; font-weight: 600; color: var(--secondary-color); border-bottom: 3px solid var(--secondary-color); margin-bottom: -2px;">–ù–∞ –º–æ–¥–µ—Ä–∞—Ü—ñ—ó</button>
                    <button class="user-recipes-tab" data-status="approved" style="padding: 12px 20px; background: none; border: none; cursor: pointer; font-weight: 600; color: #7f8c8d; border-bottom: 3px solid transparent; margin-bottom: -2px; transition: color 0.3s ease;">–û–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω—ñ</button>
                </div>

                <div class="recipes-toolbar">
                    <input type="text" id="search-user-recipes" placeholder="–ü–æ—à—É–∫..." class="search-input">
                    <button id="refresh-user-recipes-btn" class="btn btn-primary">–û–Ω–æ–≤–∏—Ç–∏</button>
                </div>
                
                <div id="user-recipes-list" class="recipes-table-container">
                    <table class="recipes-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–ù–∞–∑–≤–∞</th>
                                <th>–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á</th>
                                <th>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</th>
                                <th>–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å</th>
                                <th>–ß–∞—Å</th>
                                <th>–î–∞—Ç–∞</th>
                                <th>–î—ñ—ó</th>
                            </tr>
                        </thead>
                        <tbody id="user-recipes-tbody">
                            <tr><td colspan="8" class="loading-text">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</td></tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- –°–µ–∫—Ü—ñ—è –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ -->
            <section id="users-section" class="admin-section">
                <h3>–ö–µ—Ä—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏</h3>

                <div class="recipes-toolbar">
                    <input type="text" id="search-users" placeholder="–ü–æ—à—É–∫ –∑–∞ –Ω—ñ–∫–æ–º..." class="search-input">
                    <button id="refresh-users-btn" class="btn btn-primary">–û–Ω–æ–≤–∏—Ç–∏</button>
                </div>

                <div id="users-list" class="recipes-table-container">
                    <table class="recipes-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–ù—ñ–∫–Ω–µ–π–º</th>
                                <th>Email</th>
                                <th>–†–æ–ª—å</th>
                                <th>–î–∞—Ç–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó</th>
                                <th>–î—ñ—ó</th>
                            </tr>
                        </thead>
                        <tbody id="users-tbody">
                            <tr><td colspan="6" class="loading-text">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</td></tr>
                        </tbody>
                    </table>
                    
                </div>
            </section>

            <!-- –°–µ–∫—Ü—ñ—è –î–æ–¥–∞—Ç–∏ —Ä–µ—Ü–µ–ø—Ç -->
            <section id="add-recipe-section" class="admin-section">
                <h3>–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —Ä–µ—Ü–µ–ø—Ç</h3>

                <form id="add-recipe-form" class="recipe-form" enctype="multipart/form-data">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="recipe-title">–ù–∞–∑–≤–∞ —Ä–µ—Ü–µ–ø—Ç—É *</label>
                            <input type="text" id="recipe-title" name="title" required placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É —Ä–µ—Ü–µ–ø—Ç—É">
                        </div>

                        <div class="form-group">
                            <label for="recipe-category">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</label>
                            <select id="recipe-category" name="category">
                                <option value="">–û–±–µ—Ä—ñ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä—ñ—é</option>
                                <option value="breakfast">–°–Ω—ñ–¥–∞–Ω–æ–∫</option>
                                <option value="lunch">–û–±—ñ–¥</option>
                                <option value="dinner">–í–µ—á–µ—Ä—è</option>
                                <option value="desserts">–î–µ—Å–µ—Ä—Ç–∏</option>
                                <option value="salads">–°–∞–ª–∞—Ç–∏</option>
                                <option value="soups">–°—É–ø–∏</option>
                                <option value="snacks">–ó–∞–∫—É—Å–∫–∏</option>
                                <option value="drinks">–ù–∞–ø–æ—ó</option>
                                <option value="vegan">–í–µ–≥–∞–Ω—Å—å–∫—ñ</option>
                                    <option value="pastries">–¢—ñ—Å—Ç–µ—á–∫–∞</option>
                                    <option value="season_spring">–í–µ—Å–Ω—è–Ω—ñ —Å—Ç—Ä–∞–≤–∏</option>
                                    <option value="season_summer">–õ—ñ—Ç–Ω—ñ —Å—Ç—Ä–∞–≤–∏</option>
                                    <option value="season_autumn">–û—Å—ñ–Ω–Ω—ñ —Å—Ç—Ä–∞–≤–∏</option>
                                    <option value="season_winter">–ó–∏–º–æ–≤—ñ —Å—Ç—Ä–∞–≤–∏</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="recipe-difficulty">–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å</label>
                            <select id="recipe-difficulty" name="difficulty">
                                <option value="">–û–±–µ—Ä—ñ—Ç—å</option>
                                <option value="–õ–µ–≥–∫–∞">–õ–µ–≥–∫–∞</option>
                                <option value="–°–µ—Ä–µ–¥–Ω—è">–°–µ—Ä–µ–¥–Ω—è</option>
                                <option value="–í–∞–∂–∫–∞">–í–∞–∂–∫–∞</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="recipe-time">–ß–∞—Å –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è (—Ö–≤)</label>
                            <input type="number" id="recipe-time" name="time" min="0" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: 30">
                        </div>
                    </div>

                    <!-- –Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏ -->
                    <div class="form-section">
                        <h4>üìã –Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏</h4>
                        <div id="ingredientsContainer" class="ingredients-list">
                            <div class="ingredient-item">
                                <span class="ingredient-number">1.</span>
                                <input type="text" name="ingredients[]" placeholder="–î–æ–¥–∞–π—Ç–µ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç">
                                <button type="button" class="delete-btn" style="display: none;" title="–í–∏–¥–∞–ª–∏—Ç–∏">‚úï</button>
                            </div>
                        </div>
                        <button type="button" id="addIngredientBtn" class="add-btn">+ –î–æ–¥–∞—Ç–∏ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç</button>
                    </div>

                    <!-- –ï—Ç–∞–ø–∏ –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è -->
                    <div class="form-section">
                        <h4>üë®‚Äçüç≥ –ï—Ç–∞–ø–∏ –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è</h4>
                        <div id="stepsContainer" class="steps-list">
                            <div class="step-item">
                                <span class="step-number">1.</span>
                                <textarea name="steps[]" placeholder="–û–ø–∏—à—ñ—Ç—å –ø–µ—Ä—à–∏–π –µ—Ç–∞–ø –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è..."></textarea>
                                <button type="button" class="delete-btn" style="display: none;" title="–í–∏–¥–∞–ª–∏—Ç–∏">‚úï</button>
                            </div>
                        </div>
                        <button type="button" id="addStepBtn" class="add-btn">+ –î–æ–¥–∞—Ç–∏ –µ—Ç–∞–ø</button>
                    </div>

                    <div class="form-group">
                        <label for="recipe-image">–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–µ—Ü–µ–ø—Ç—É</label>
                        <input type="file" id="recipe-image" name="image" accept="image/*">
                        <small>–ü—Ä–∏–π–º–∞—é—Ç—å—Å—è —Ñ–æ—Ä–º–∞—Ç–∏: JPG, PNG, GIF, WebP (–º–∞–∫—Å. 5MB)</small>
                        <div id="add-image-preview" class="current-image" aria-hidden="true"></div>
                    </div>

                    <div class="form-group">
                        <label for="recipe-featured">–†–µ—Ü–µ–ø—Ç –¥–Ω—è</label>
                        <div style="display:flex;align-items:center;gap:8px;">
                            <input type="checkbox" id="recipe-featured" name="is_featured" value="1">
                            <label for="recipe-featured" style="margin:0;">–ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ –Ω–∞ –≥–æ–ª–æ–≤–Ω—ñ–π —è–∫ —Ä–µ—Ü–µ–ø—Ç –¥–Ω—è</label>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-success">–î–æ–¥–∞—Ç–∏ —Ä–µ—Ü–µ–ø—Ç</button>
                        <button type="reset" class="btn btn-secondary">–°–∫–∏–Ω—É—Ç–∏</button>
                    </div>
                </form>
            </section>

            <!-- –°–µ–∫—Ü—ñ—è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–∞ –¥–ª—è –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ -->
        </main>
    </div>

    <!-- Modal –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ä–µ—Ü–µ–ø—Ç—É -->
    <div id="edit-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ä–µ—Ü–µ–ø—Ç</h3>
            <form id="edit-recipe-form" class="recipe-form" enctype="multipart/form-data">
                <input type="hidden" id="edit-recipe-id" name="recipe_id">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="edit-recipe-title">–ù–∞–∑–≤–∞ —Ä–µ—Ü–µ–ø—Ç—É *</label>
                        <input type="text" id="edit-recipe-title" name="title" required>
                    </div>

                    <div class="form-group">
                        <label for="edit-recipe-category">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</label>
                        <select id="edit-recipe-category" name="category">
                            <option value="">–û–±–µ—Ä—ñ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä—ñ—é</option>
                            <option value="breakfast">–°–Ω—ñ–¥–∞–Ω–æ–∫</option>
                            <option value="lunch">–û–±—ñ–¥</option>
                            <option value="dinner">–í–µ—á–µ—Ä—è</option>
                            <option value="desserts">–î–µ—Å–µ—Ä—Ç–∏</option>
                            <option value="salads">–°–∞–ª–∞—Ç–∏</option>
                            <option value="soups">–°—É–ø–∏</option>
                            <option value="snacks">–ó–∞–∫—É—Å–∫–∏</option>
                            <option value="drinks">–ù–∞–ø–æ—ó</option>
                            <option value="vegan">–í–µ–≥–∞–Ω—Å—å–∫—ñ</option>
                            <option value="pastries">–¢—ñ—Å—Ç–µ—á–∫–∞</option>
                            <option value="season_spring">–í–µ—Å–Ω—è–Ω—ñ —Å—Ç—Ä–∞–≤–∏</option>
                            <option value="season_summer">–õ—ñ—Ç–Ω—ñ —Å—Ç—Ä–∞–≤–∏</option>
                            <option value="season_autumn">–û—Å—ñ–Ω–Ω—ñ —Å—Ç—Ä–∞–≤–∏</option>
                            <option value="season_winter">–ó–∏–º–æ–≤—ñ —Å—Ç—Ä–∞–≤–∏</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="edit-recipe-difficulty">–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å</label>
                        <select id="edit-recipe-difficulty" name="difficulty">
                            <option value="">–û–±–µ—Ä—ñ—Ç—å</option>
                            <option value="–õ–µ–≥–∫–∞">–õ–µ–≥–∫–∞</option>
                            <option value="–°–µ—Ä–µ–¥–Ω—è">–°–µ—Ä–µ–¥–Ω—è</option>
                            <option value="–í–∞–∂–∫–∞">–í–∞–∂–∫–∞</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="edit-recipe-time">–ß–∞—Å –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è (—Ö–≤)</label>
                        <input type="number" id="edit-recipe-time" name="time" min="0">
                    </div>
                </div>

                <div class="form-section">
                    <h4>üìã –Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏</h4>
                    <div id="editIngredientsContainer" class="ingredients-list">
                        <!-- items will be injected here -->
                    </div>
                    <button type="button" id="editAddIngredientBtn" class="add-btn">+ –î–æ–¥–∞—Ç–∏ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç</button>
                </div>

                <div class="form-section">
                    <h4>üë®‚Äçüç≥ –ï—Ç–∞–ø–∏ –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è</h4>
                    <div id="editStepsContainer" class="steps-list">
                        <!-- items will be injected here -->
                    </div>
                    <button type="button" id="editAddStepBtn" class="add-btn">+ –î–æ–¥–∞—Ç–∏ –µ—Ç–∞–ø</button>
                </div>

                <div class="form-group">
                    <label for="edit-recipe-image">–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–µ—Ü–µ–ø—Ç—É</label>
                    <input type="file" id="edit-recipe-image" name="image" accept="image/*">
                    <div id="edit-current-image" class="current-image"></div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-success">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <!-- Confirm Delete Modal -->
    <div id="confirm-delete-modal" class="confirm-delete-modal" aria-hidden="true">
        <div class="confirm-delete-content" role="dialog" aria-modal="true" aria-labelledby="confirm-delete-title">
            <button class="confirm-close" aria-label="–ó–∞–∫—Ä–∏—Ç–∏">&times;</button>
            <div class="confirm-icon">üóëÔ∏è</div>
            <h3 id="confirm-delete-title">–í–∏–¥–∞–ª–∏—Ç–∏ —Ä–µ—Ü–µ–ø—Ç?</h3>
            <p id="confirm-delete-message">–¶—é –¥—ñ—é –Ω–µ–º–æ–∂–ª–∏–≤–æ –≤—ñ–¥–º—ñ–Ω–∏—Ç–∏. –í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ä–µ—Ü–µ–ø—Ç?</p>
            <div id="confirm-delete-reason-wrap" style="display:none; margin-top:12px; text-align:left;">
                <label for="confirm-delete-reason" style="display:block; margin-bottom:6px; color:var(--primary-color); font-weight:600;">–ü—Ä–∏—á–∏–Ω–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)</label>
                <textarea id="confirm-delete-reason" rows="4" placeholder="–ù–∞–ø–∏—à—ñ—Ç—å –ø—Ä–∏—á–∏–Ω—É –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–º–µ–Ω—Ç–∞—Ä—è, —è–∫–∞ –±—É–¥–µ –Ω–∞–¥—ñ—Å–ª–∞–Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É" style="width:100%; padding:10px; border:1px solid var(--border-color); border-radius:8px; resize:vertical;"></textarea>
            </div>
            <div class="confirm-actions">
                <button id="confirm-delete-cancel" class="btn-small">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                <button id="confirm-delete-yes" class="btn-small btn-delete">–¢–∞–∫, –≤–∏–¥–∞–ª–∏—Ç–∏</button>
            </div>
        </div>
    </div>

    <script src="js/admin-panel.js"></script>
</body>
</html>
